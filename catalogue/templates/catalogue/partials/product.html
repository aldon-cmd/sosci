{% load currency_filters %}
{% load purchase_info_tags %}

{% purchase_info_for_product request object as session %}

{% if object.product_class.name == "Course" %}

  <a id="product-course-list" href="{% url 'catalogue:course-detail' object.pk %}">
    <div class="border p-3">
      <div class="box-part text-center">
        <i class="material-icons">ondemand_video</i>
        <div class="title">
          <h3 class="title-clamp">{{object.title}}</h3>
        </div>
      </div>
      <div class="text">
        <p class="line-clamp">{{object.description|safe}}</p>
      </div>
      <div class="col-lg-12 col-md-12 col-sm-12 no-padding d-flex">
        <div class="available col-lg-6 col-md-6 col-sm-6 no-padding">
          <span>Streaming Now</span>
        </div>
        <div class="price col-lg-6 col-md-6 col-sm-6 no-padding">
          <span>{{session.price.incl_tax|currency:session.price.currency }}</span>
        </div>
      </div>
    </div>
  </a>
  {% elif object.product_class.name == "Live" %}
  <a id="product-course-list" href="{% url 'catalogue:course-detail' object.pk %}">
    <div class="border p-3 rounded-1">
      <div class="box-part text-center">
        <i class="material-icons">videocam</i>
        <div class="title">
          <h3 class="title-clamp">{{object.title}}</h3>
        </div>
      </div>
      <div class="text">
        <div class="line-clamp short-description">{{object.description|safe}}</div>
      </div>
      <div class="col-lg-12 col-md-12 col-sm-12 no-padding d-flex">
        <div class="available col-lg-6 col-md-6 col-sm-6 no-padding">
          <span>Mar 7, 2020, 5:30 pm</span>
        </div>
        <div class="price col-lg-6 col-md-6 col-sm-6 no-padding">
          <span>{{session.price.incl_tax|currency:session.price.currency }}</span>
        </div>
      </div>
    </div>
  </a>

{% endif %}